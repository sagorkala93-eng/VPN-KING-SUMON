const moment = require("moment-timezone");
const axios = require("axios");
const fs = require("fs-extra");
const request = require("request");

module.exports.config = {
  name: "info",
  version: "1.0.0",
  permission: 0,
  credits: "Joy",
  description: "Displays personal info of the bot owner",
  prefix: true,
  category: "info",
  usages: "",
  cooldowns: 5,
  dependencies: {
    "request": "",
    "fs-extra": "",
    "axios": ""
  }
};

module.exports.run = async function ({ api, event }) {
  const currentTime = moment.tz("Asia/Dhaka").format("ã€ŽD/MM/YYYYã€ ã€hh:mm:ssã€‘");

  const imageUrl = "https://graph.facebook.com/61583072616904/picture?height=720&width=720&access_token=6628568379%7Cc1e620fa708a1d5696fb991c1bde5662";
  const imgPath = __dirname + "/cache/info_avatar.png";

  const infoText = `
â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ‘¤ ð—¡ð—®ð—ºð—² : ð—©ð—£ð—¡ ð—žð—œð—¡ð—š ð—¦ð—¨ð— ð—¢ð—¡
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ“˜ ð—™ð—®ð—°ð—²ð—¯ð—¼ð—¼ð—¸ : ð— ð—— ð—¦ð—¨ð— ð—¢ð—¡ ð—œð—¦ð—Ÿð—”ð— 
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ•‹ ð—¥ð—²ð—¹ð—¶ð—´ð—¶ð—¼ð—» : ð—œð—¦ð—Ÿð—”ð— 
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ  ð—£ð—²ð—¿ð—ºð—®ð—»ð—²ð—»ð˜ ð—”ð—±ð—±ð—¿ð—²ð˜€ð˜€ : ð—šð—”ð—œð—•ð—”ð—¡ð——ð—›ð—”, ð—¥ð—”ð—¡ð—šð—£ð—¨ð—¥
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ“ ð—–ð˜‚ð—¿ð—¿ð—²ð—»ð˜ ð—”ð—±ð—±ð—¿ð—²ð˜€ð˜€ : ð—¦ð—¨ð—¡ð——ð—¢ð—¥ð—šð—¢ð—¡ð—,ð—šð—”ð—œð—•ð—”ð—¡ð——ð—›ð—”
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸš» ð—šð—²ð—»ð—±ð—²ð—¿ : ð— ð—”ð—Ÿð—˜
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸŽ‚ ð—”ð—´ð—² : ðŸ­ðŸ²+
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ’˜ ð—¥ð—²ð—¹ð—®ð˜ð—¶ð—¼ð—»ð˜€ð—µð—¶ð—½ : ð—¦ð—œð—¡ð—šð—˜ð—Ÿ
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸŽ“ ð—ªð—¼ð—¿ð—¸ : ð—¦ð—§ð—¨ð——ð—˜ð—¡ð—§
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ“§ ð—šð—ºð—®ð—¶ð—¹ : sumonislam124@gmail.com
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ“ž ð—ªð—µð—®ð˜ð˜€ð—”ð—½ð—½ : wa.me/+8801975257710
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
âœˆï¸ ð—§ð—²ð—¹ð—²ð—´ð—¿ð—®ð—º : https://t.me/sumonvpn
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
ðŸ”— ð—™ð—®ð—°ð—²ð—¯ð—¼ð—¼ð—¸ ð—Ÿð—¶ð—»ð—¸ :https://www.facebook.com/profile.php?id=61583072616904
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯

â•­â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•®
â° ð—§ð—¶ð—ºð—² : ${currentTime}
â•°â•¼|â”â”â”â”â”â”â”â”â”â”â”â”â”â”|â•¾â•¯`;

  const callback = () => {
    api.sendMessage({
      body: infoText,
      attachment: fs.createReadStream(imgPath)
    }, event.threadID, () => fs.unlinkSync(imgPath));
  };

  request(encodeURI(imageUrl))
    .pipe(fs.createWriteStream(imgPath))
    .on("close", callback);
};
