module.exports.config = {
  name: "ruls",
  version: "1.0.3",
  permission: 0,
  credits: "Joy Ahmed",
  prefix: true,
  description: "rules",
  category: "rules",
  usages: "",
  cooldowns: 5,
};

module.exports.run = async function ({ api, event, Threads }) {
  const axios = global.nodemodule["axios"];
  const fs = global.nodemodule["fs-extra"];

  try {
    // ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶Ü‡¶®‡¶æ
    const threadInfo = await api.getThreadInfo(event.threadID);
    const groupName = threadInfo.threadName || "‡¶è‡¶á ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™";
    const groupImage = threadInfo.imageSrc; // ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø

    // ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶õ‡¶¨‡¶ø ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°
    const imgPath = __dirname + "/cache/group.jpg";
    if (groupImage) {
      const imgRes = await axios.get(groupImage, { responseType: "arraybuffer" });
      fs.writeFileSync(imgPath, Buffer.from(imgRes.data, "binary"));
    }

    // Font Keyboard Style ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü
    const msg = {
      body: `‚ï≠‚ïº|‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ|‚ïæ‚ïÆ
ùòºùô®ùô®ùôñùô°ùôñùô¢ùô™ ùòºùô°ùôñùôûùô†ùô™ùô¢  
"‡ºÜ‚ó•‚Éß‚Éúÿñÿñÿñÿñ‚Éù‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©¬ªÃΩÕìÃ∂ÃΩÕìÃ∂ÃΩÕìùÑû‚ãÜ‚Éùüå∫ùôã‚ãÜ‚Éùüå∏‡øê"  
${groupName} ùôúùôßùô§ùô™ùô•-ùôöùôß ùô†ùô§ùô°ùôûùôüùôñùôß ùôóùôùùôñùôû/ùôóùô§ùô£ __üòäüçí  

ùòºùô¢ùôñùôôùôöùôß ùôúùôßùô§ùô™ùô•-ùôö ùôñùô®ùôñùôß ùôüùô§ùô£ùô£ùô§ ùôñùô•ùô£ùôñùô†ùôö ùôñùô£ùôöùô† ùôôùôùùô§ùô£ùô£ùô§ùôóùôñùôô !!üçíüòò  

ùôÄùô©ùôñ ùôñùôôùôôùôñ ùôóùô§ùô≠, ùôöùô†ùôùùôñùô£ùôö 18+ ùô†ùô§ùô£ùô§ ùô†ùôñùô©ùôùùôñ ùôóùô§ùô°ùôñ ùôüùôñùôóùôö ùô£ùôñ üíØ  

ùôÄùô†ùôùùôñùô£ùôö ùô®ùô§ùôóùôñùôû ùôóùôùùôñùô£ùôôùô™ùôß ùô¢ùô§ùô©ùô§ ùôñùôôùôôùôñ ùôôùôûùôóùôö üíØ  

3 ùôôùôûùô£ùôöùôß ùôóùôöùô®ùôùùôû ùôñùôòùô©ùôûùô´ùôö ùô£ùôñ ùô©ùôùùôñùô†ùô°ùôö ùôñùôôùô¢ùôûùô£ ùôßùôöùô¢ùô§ùô´ùôö ùô†ùô§ùôßùôóùôö üíöüçí  

‡ºÜ‚ó•‚Éß‚Éúÿñÿñÿñÿñ‚Éù‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©‡£©¬ªÃΩÕìÃ∂ÃΩÕìÃ∂ÃΩÕìùÑû‚ãÜ‚Éùüå∫ùÑû‚ãÜ‚Éùüå∏‡øê  
${groupName} ùôúùôßùô§ùô™ùô•-ùôöùôß ùô•ùôñùô†ùôùùô§ ùô©ùôùùôöùô†ùôö ùôñùô•ùô£ùôñùô†ùôö ùôüùôñùô£ùôñùôÆ ùôóùôùùôñùô°ùô§ùôóùôñùô®ùôñ üíØüå∏  

          üå∏üíØ______ùêÇùêÑùêé______üíØüå∏  
                
      ùòæùôßùôöùôñùô©ùô§ùôß:ùêïùêèùêç ùêäùêàùêçùêÜ ùêíùêîùêåùêéùêç
‚ï∞‚ïº|‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ|‚ïæ‚ïØ`,
      attachment: groupImage ? fs.createReadStream(imgPath) : null
    };

    api.sendMessage(msg, event.threadID, () => {
      if (fs.existsSync(imgPath)) fs.unlinkSync(imgPath);
    });

  } catch (e) {
    console.log(e);
    api.sendMessage("‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá!", event.threadID);
  }
};
